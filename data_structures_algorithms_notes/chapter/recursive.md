# 递归算法
# 一、递归的基本原理
&#8195; 递归，在数学与计算机科学中，是指在**函数的定义中使用函数自身**的方法。也就是说，递归算法是一种直接或者间接调用自身函数或者方法的算法。通俗来说，递归算法的实质是把问题分解成规模缩小的同类问题的子问题，然后递归调用方法来表示问题的解。

递归的原理：
1. 每一级的函数调用都有自己的变量。
2. 每一次函数调用都会有一次返回。
3. 递归函数中，位于递归调用前的语句和各级被调用函数具有相同的执行顺序。
4. 递归函数中，位于递归调用后的语句的执行顺序和各个被调用函数的顺序相反。
5. 虽然每一级递归都有自己的变量，但是函数代码并不会得到复制。

递归过程如下图所示：

![](https://upload-images.jianshu.io/upload_images/16911112-c756fa7984da6f28.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 二、递归三要素
1. **第一要素：明确你这个函数想要干什么**。先不管函数里面的代码什么，而是要先明白，你这个函数的功能是什么，要完成什么样的一件事。

2. **第二要素：寻找递归结束条件**。我们需要找出当参数为啥时，递归结束，之后直接把结果返回，请注意，这个时候我们必须能根据这个参数的值，能够直接知道函数的结果是什么。

3. **第三要素：找出函数的等价关系式**。我们要不断缩小参数的范围，缩小之后，我们可以通过一些辅助的变量或者操作，使原函数的结果不变。

# 三、递归的优缺点
## 优点
* 实现简单
* 可读性好

## 缺点
* 递归调用占用内存大
* 递归太深容易发生栈溢出
* 可能存在重复计算|

# 四、递归的使用
&#8195; 递归的强大之处在于它允许用户用有限的语句描述无限的对象。因此，在计算机科学中，递归可以被用来描述无限步的运算，尽管描述运算的程序是有限的。 这一点是循环不太容易做到的。

&#8195; 编写正确的递归算法，一定要有 ”归“ 的步骤，也就是说递归算法，在分解问题到不能再分解的步骤时，要让递归有退出的条件，否则就会陷入死循环，最终导致内存不足引发栈溢出异常。

## 1. 求斐波那契数列
* 斐波那契数列：0,1,1,2,3,5,8,13,21,34,55,89,144,...，即 $f(n)=f(n-1)+f(n-2)$

* 先用递归法求，参考程序如下：

```python
def fib_recur(n):
  assert n >= 0, "n > 0"
  if n <= 1:
    return n
  return fib_recur(n-1) + fib_recur(n-2)
```

写法最简洁，但是效率最低，会出现大量的重复计算，时间复杂度 $O(2^n)$，空间复杂度 $O(1)$

